diffview={buildView:function(b){function u(a,b){var c=document.createElement(a);c.className=b;return c}function m(a,b){var c=document.createElement(a);c.appendChild(document.createTextNode(b));return c}function h(a,b,c){a=document.createElement(a);a.className=b;a.innerHTML=c;return a}function v(a,b,c,d,e){if(b<c)return a.appendChild(m("th",(b+1).toString())),a.appendChild(h("td",e,d[b].replace(/\t/g,"    "))),b+1;a.appendChild(document.createElement("th"));a.appendChild(u("td","empty"));return b}
function n(a,b,c,d,e){a.appendChild(m("th",null==b?"":(b+1).toString()));a.appendChild(m("th",null==c?"":(c+1).toString()));a.appendChild(h("td",e,d[null!=b?b:c].replace(/\t/g,"    ")))}var j=b.baseTextLines,k=b.newTextLines,o=b.opcodes,i=b.baseTextName?b.baseTextName:"Base Text",c=b.newTextName?b.newTextName:"New Text",s=b.contextSize,b=0==b.viewType||1==b.viewType?b.viewType:0;if(null==j)throw"Cannot build diff view; baseTextLines is not defined.";if(null==k)throw"Cannot build diff view; newTextLines is not defined.";
if(!o)throw"Canno build diff view; opcodes is not defined.";var l=document.createElement("thead"),a=document.createElement("tr");l.appendChild(a);b?(a.appendChild(document.createElement("th")),a.appendChild(document.createElement("th")),a.appendChild(h("th","texttitle",i+" vs. "+c))):(a.appendChild(document.createElement("th")),a.appendChild(h("th","texttitle",i)),a.appendChild(document.createElement("th")),a.appendChild(h("th","texttitle",c)));for(var l=[l],i=[],g,c=0;c<o.length;c++){code=o[c];change=
code[0];for(var e=code[1],p=code[2],f=code[3],q=code[4],w=Math.max(p-e,q-f),r=[],t=[],d=0;d<w;d++){if(s&&1<o.length&&(0<c&&d==s||0==c&&0==d)&&"equal"==change)if(g=w-(0==c?1:2)*s,1<g)if(r.push(a=document.createElement("tr")),e+=g,f+=g,d+=g-1,a.appendChild(m("th","...")),b||a.appendChild(h("td","skip","")),a.appendChild(m("th","...")),a.appendChild(h("td","skip","")),c+1==o.length)break;else continue;r.push(a=document.createElement("tr"));b?"insert"==change?n(a,null,f++,k,change):"replace"==change?
(t.push(g=document.createElement("tr")),e<p&&n(a,e++,null,j,"delete"),f<q&&n(g,null,f++,k,"insert")):"delete"==change?n(a,e++,null,j,change):n(a,e++,f++,j,change):(g=diffString2(e<p?j[e]:"",f<q?k[f]:""),e<p&&(j[e]=g.o),f<q&&(k[f]=g.n),e=v(a,e,p,j,"replace"==change?"delete":change),f=v(a,f,q,k,"replace"==change?"insert":change))}for(d=0;d<r.length;d++)i.push(r[d]);for(d=0;d<t.length;d++)i.push(t[d])}i.push(a=h("th","author","combined <a href='http://snowtide.com/jsdifflib'>jsdifflib</a> and John Resig's <a href='http://ejohn.org/projects/javascript-diff-algorithm/'>diff</a> by <a href='http://richardbondi.net'>Richard Bondi</a>"));
a.setAttribute("colspan",b?3:4);l.push(a=document.createElement("tbody"));for(c in i)a.appendChild(i[c]);a=u("table","diff"+(b?" inlinediff":""));for(c in l)a.appendChild(l[c]);return a}};